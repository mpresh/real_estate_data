import urllib
import urllib.request
from bs4 import BeautifulSoup
import sys

#url_source = "http://maynard.patriotproperties.com/search-middle-ns.asp?SearchBuildingType=APRTMNT+CONV"
#url_source = "http://maynard.patriotproperties.com/SearchResults.asp?SearchBuildingType=APRTMNT+CONV"
url_source = "http://maynard.patriotproperties.com/SearchResults.asp?SearchLUC=111&SearchLUCDescription=4-8-UNIT-APT"

def get_data(source):
    result = urllib.request.urlopen(url_source).read()
    return result 

def parse_html_data(html):
    soup = BeautifulSoup(html, 'html.parser')

    s = soup.body.find(id="T1")
    s = list(s.children)
    print(len(s))
    #for r in s.find_all("tr"):
    for i, r in enumerate(s):
        print(i, r)
    #    print(type(r))
    #print(dir(s))
    #print(type(s))
    #for r in  soup.find(id="T1").find("tbody").find_all("TR"):
    #    print(r)
    #print(soup.prettify())
    #for link in soup.find_all('a'):
    #    print(link.get('href'))

def main():
    html_data = get_data(url_source)
    parse_html_data(html_data)

if __name__ == "__main__":
    main()
